Step 1:

| شرحی کوتاه از تغییر                                                     | عنوان تغییر                              | محل اعمال تغییرات    | ردیف |
|-------------------------------------------------------------------------|------------------------------------------|----------------------|------|
| افزودن کلاس جدید برای سفارش تلفنی که order service را پیاده‌سازی می‌کند | اضافه کردن کلاس سفارش تلفنی              | phone order service  | ۱    |
| افزودن یک تابع void با عنوان phone order register                       | افزودن تابع ثبت سفارش تلفنی              | order service        | ۲    |
| افزودن یک تابع void با عنوان phone order payment                        | افزودن تابع پرداخت تلفنی                 | order service        | ۳    |
| پیاده‌سازی تابع ثبت سفارش تلفنی با بدنه خالی                            | پیاده‌سازی تابع ثبت سفارش تلفنی          | online order service | ۴    |
| پیاده‌سازی تابع پرداخت تلفنی با بدنه خالی                               | پیاده‌سازی تابع پرداخت تلفنی             | online order service | ۵    |
| پیاده‌سازی تابع ثبت سفارش تلفنی با بدنه خالی                            | پیاده‌سازی تابع ثبت سفارش تلفنی          | onsite order service | ۶    |
| پیاده‌سازی تابع پرداخت تلفنی با بدنه خالی                               | پیاده‌سازی تابع پرداخت تلفنی             | onsite order service | ۷    |
| پیاده‌سازی تابع ثبت سفارش تلفنی با دستور چاپ مناسب                      | پیاده‌سازی تابع ثبت سفارش تلفنی          | phone order service  | ۸    |
| پیاده‌سازی تابع پرداخت تلفنی با دستور چاپ مناسب                         | پیاده‌سازی تابع پرداخت تلفنی             | phone order service  | ۹    |
| به دستور چاپ راهنمای انتخاب نحوه ثبت سفارش، سفارش تلفنی اضافه شد        | اضافه کردن سفارش تلفنی به راهنمای کاربری | main                 | ۱۰   |
| ثبت سفارش تلفنی در صورت انتخاب کاربر پیاده‌سازی شد                      | پیاده‌سازی ثبت سفارش تلفنی برای کاربر    | main                 | ۱۱   |
| پرداخت تلفنی در صورت انتخاب کاربر پیاده‌سازی شد                         | پیاده‌سازی پرداحت تلفنی برای کاربر       | main                 | ۱۲   |

مجموع تعداد تغییرات: ۱۲

Step 2:

| نقض                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | تحقق                                                                                                                                                                                       | اصل                             | ردیف |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|------|
| تمامی کلاس ها دارای توابع خالی سرویس های دیگر نیز هستند و مجبور شده اند آن ها را خالی بگذارند. همچنین می توان گفت کلاس های سرویس عمل register و payment را همزمان پیاده سازی کرده اند که این کار را بهتر است اگر پیچیدگی پروژه در آینده بیشتر شود بصورت کلاس های جدا انجام دهیم. زیرا تمامی جزییات سرویس را در یک کلاس قرار دادن می تواند منجر به ساخت God_class در آینده شود. همچنین اگر به کلاس Order دقت کنیم می توان دید که تابع toString دارد فرمت پرینت کردن کلاس را مدیریت می کند و طبق اصل SRP باید هر کلاس تنها یک دلیل برای تغییر داشته باشد این در حالی است که ما هم برای تغییر منطق بیزینسی این کلاس و هم برای تغییر فرمت پرینت کردن لازم است این کلاس را تغییر دهیم بنابراین بهتر است این تابع توسط کلاس دیگری هندل شود. | هر سه سرویسی که برای سفارش آنلاین و حضوری و تلفنی وجود دارد صرفا توابع مربوط به نوع سفارش خودشان را پیاده سازی کرده اند و با سایر انواع سرویس ها کاری ندارند.                              | Single responsibility           | ۱    |
| با توجه به تعریف معماری مشکلی از سمت این قانون دیده نمی شود.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | با توجه به واسط تعریف شده هر کلاسی می تواند عملکرد مورد نیاز برای ثبت سفارش و پرداخت سفارش را به شکل دلخواه خود پیاده سازی کند و کلاس واسط را گسترش دهد و نیازی به تغییر واسط نیست.        | Open-Close principle(OCP)       | ۲    |
| طبق تعریف اصل باید تمامی کلاس های فرزندبا کلاس پدر باید قابلیت جایگزینی داشته باشد. اگر بر فرض مثال order را کلاس پدر در نظر بگیریم و دیگر سرویس ها را کلاس فرزند می توان گفت پدر انتظار دارد تمامی توابع قابلیت عملکرد داشته باشند این در حالی است که فرزندان فقط دوتا از توابع را پشتیبانی می کنند پس کلاس های فرزند قابلیت تعویض با پدر را ندارند.                                                                                                                                                                                                                                                                                                                                                                                 | با توجه به تعریف اصل موارد مورد نیاز رعایت نشده است.                                                                                                                                       | Liskov Substitution Principle   | ۳    |
| طبق این اصل باید گسترش دهندگان یک واسط ملزم به پیاده سازی توابع نامربوط نباشند که در این معماری هر کدام از آنها مجبورند ۴ تابع دیگر را پیاده سازی کنند که آنها را خالی گذاشته اند و این مورد درست نیست و طبق این اصل باید اشیا تا حد امکان جدا تعریف شوند و coupling کاهش داده شود.                                                                                                                                                                                                                                                                                                                                                                                                                                                   | این اصل بطور کلی نقض شده است.                                                                                                                                                              | Interface Segregation Principle | ۴    |
| تنها موردی که تا حدی می توان به این اصل ربط داد این است که در این اصل اشاره شده است که بهتر است حدالامکان از واسط ها بجای خود کلاس های بخصوص پیاده سازی کننده استفاده کنیم ولی این مورد در main دیده نمیشدود برای توابع ثبتنام و پرداخت.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | با بررسی کد می توان متوجه شد که جایی وابستگی کل به جز دیده نمی شود بنابراین این اصل نقضی شده است و همچنین این اصل ارتباط نزدیکی با اصل دوم یا OCP دارد که مورد نثضی در پروژه دیده نمی شود. | Dependency Inversion Principle  | ۵    |


| راه حل پیشنهادی                                | علت نقض                                                       | اصل | ردیف |
|------------------------------------------------|---------------------------------------------------------------|-----|------| 
| شکستن کلاس order service به انواع مختلف        | همه سرویس ها مجبورند تمامی توابع را پیاده سازی کنند           | ISP | ۱    |
| تعریف یک کلاس دیگر برای چاپ سفارش              | تابع چاپ با منطق سفارش در یک کلاس قرار دارند                  | RSP | ۲    |
| واسط های جدایی برای هر کدام از خدمات تعریف شود | واسط سرویس سفارش هم ثبت و هم پرداخت را مدیریت می کند          | RSP | ۳    |
| واسط ها را به قسمت های کوچک تر بشکنیم          | کلاس واسط انتظار پیاده سازی تمامی توابع توسط فرزندان را دارد  | LSP | ۴    |
| با شکستن واسط ها یک بار instance بسازیم        | در کلاس main نباید هی instance های جدید از سرویس ها گرفته شود | DIP | ۵    |

Step 4:

۱. در این حالت صرفا یک کلاس جدید تعریف می‌کنیم که order service را پیاده‌سازی می‌کند پس نیازی به تغییرات ۲ تا ۹ نداریم. همچنین در کلاس main نیازی به تغییر ۱۲ نداریم زیرا برای پرداخت به کد جدید نیاز نداریم.

۲. در نهایت به ۳ تغییر نیاز خواهیم داشت

Step 5:

مهم‌ترین نتیجه‌گیری این بخش این است که برای پیاده‌سازی ثبت صفارش تلفنی به جای ۱۲ تغییر تنها به ۳ تغییر نیاز داریم. مزایای دیگر استفاده از solid عبارت‌است از:\
کم شدن وابستگی کلاس‌ها\
افزایش scalability کد\
افزایش خوانایی کد\
کاهش duplication در کد\
هر کلاس تنها به یک actor پاسخ می‌دهد\
و در نهایت همانطور که در ابتدا گفتیم برای پیاده‌سازی فیچر های جدید به تغییرات خیلی کمتری نیاز خواهیم داشت